<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Fitness Analytics</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            Fitness<span class="logo-accent">Guard</span>
        </div>
        
        <nav>
            <div class="nav-section">
                <p class="nav-section-title">General</p>
                <a href="overview.html" class="nav-item">
                    <i class="fas fa-chart-line nav-icon"></i>
                    <span>Overview</span>
                </a>
                <a href="workouts.html" class="nav-item">
                    <i class="fas fa-dumbbell nav-icon"></i>
                    <span>Workouts</span>
                </a>
                <a href="history.html" class="nav-item">
                    <i class="fas fa-history nav-icon"></i>
                    <span>History</span>
                </a>
            </div>
            
            <div class="nav-section">
                <p class="nav-section-title">Reports</p>
                <a href="analytics.html" class="nav-item active">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <span>Analytics</span>
                </a>
                <a href="goals.html" class="nav-item">
                    <i class="fas fa-bullseye nav-icon"></i>
                    <span>Goals</span>
                </a>
            </div>
            
            <div class="nav-section">
                <p class="nav-section-title">Settings</p>
                <a href="settings.html" class="nav-item">
                    <i class="fas fa-cog nav-icon"></i>
                    <span>Settings</span>
                </a>
            </div>
        </nav>
        
        <div class="sidebar-footer">
            <div class="upgrade-card">
                <h4>Additional features to enhance your fitness.</h4>
                <p>Track more metrics and get insights</p>
                <button class="btn-upgrade" onclick="openUpgradeModal()">Upgrade â†’</button>
            </div>
            <button class="btn-logout" onclick="logout()">
                <i class="fas fa-sign-out-alt nav-icon"></i>
                <span>Log Out</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Top Navbar -->
        <nav class="navbar">
            <div class="navbar-left">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
                <div class="user-info">
                    <h3>Welcome! <span id="userName"></span></h3>
                    <p>Fitness is a process, not a product.</p>
                </div>
            </div>
            
            <div class="search-bar">
                <i class="fas fa-search search-icon"></i>
                <input type="text" placeholder="Search Here">
            </div>
            
            <div class="navbar-right">
                <button class="icon-btn" id="messageBtn">
                    <i class="fas fa-comment-dots"></i>
                </button>
                <button class="icon-btn" id="notificationBtn" style="position: relative;">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">3</span>
                </button>
            </div>
        </nav>

        <!-- Dashboard Content -->
        <div class="dashboard-content">
            <!-- Performance Analytics -->
            <div class="chart-section">
                <div class="section-header">
                    <h2>Performance Analytics</h2>
                    <select id="timeRange" style="padding: 0.5rem; background: #0f1419; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #fff;">
                        <option value="7">Last 7 Days</option>
                        <option value="30">Last 30 Days</option>
                        <option value="90">Last 90 Days</option>
                        <option value="365">Last Year</option>
                    </select>
                </div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
            
            <!-- Charts Grid -->
            <div class="charts-grid">
                <!-- Workout Distribution -->
                <div class="chart-card">
                    <h3>Workout Distribution</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="distributionChart"></canvas>
                    </div>
                </div>
                
                <!-- Heart Rate Analysis -->
                <div class="chart-card">
                    <h3>Heart Rate Analysis</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="heartRateChart"></canvas>
                    </div>
                </div>
                
                <!-- Calories vs Duration -->
                <div class="chart-card">
                    <h3>Calories vs Duration</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="scatterChart"></canvas>
                    </div>
                </div>
                
                <!-- Weekly Progress -->
                <div class="chart-card">
                    <h3>Weekly Progress</h3>
                    <div class="chart-container" style="height: 300px;">
                        <canvas id="weeklyChart"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Insights Section -->
            <div class="dashboard-grid" style="margin-top: 2rem;">
                <div class="stats-section">
                    <div class="section-header">
                        <h2>Performance Insights</h2>
                    </div>
                    <div id="insightsContainer" style="display: grid; gap: 1rem;">
                        <!-- Insights will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="stats-section">
                    <div class="section-header">
                        <h2>Personal Records</h2>
                    </div>
                    <div style="display: grid; gap: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #0f1419; border-radius: 8px;">
                            <div>
                                <div style="color: #9ca3af; font-size: 0.875rem;">Highest Calories</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: #ec4899;" id="maxCalories">0 kcal</div>
                            </div>
                            <i class="fas fa-fire" style="font-size: 2rem; color: #ec4899;"></i>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #0f1419; border-radius: 8px;">
                            <div>
                                <div style="color: #9ca3af; font-size: 0.875rem;">Longest Workout</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: #3b82f6;" id="maxDuration">0 min</div>
                            </div>
                            <i class="fas fa-clock" style="font-size: 2rem; color: #3b82f6;"></i>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #0f1419; border-radius: 8px;">
                            <div>
                                <div style="color: #9ca3af; font-size: 0.875rem;">Peak Heart Rate</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: #ef4444;" id="maxHeartRate">0 bpm</div>
                            </div>
                            <i class="fas fa-heartbeat" style="font-size: 2rem; color: #ef4444;"></i>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: #0f1419; border-radius: 8px;">
                            <div>
                                <div style="color: #9ca3af; font-size: 0.875rem;">Workout Streak</div>
                                <div style="font-size: 1.5rem; font-weight: 700; color: #10b981;" id="workoutStreak">0 days</div>
                            </div>
                            <i class="fas fa-trophy" style="font-size: 2rem; color: #10b981;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="analytics.js"></script>
</body>
</html>